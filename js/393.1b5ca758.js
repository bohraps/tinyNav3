"use strict";(self["webpackChunktiny_nav3"]=self["webpackChunktiny_nav3"]||[]).push([[393],{8393:function(t,e,n){n.r(e),n.d(e,{default:function(){return F}});var o=n(3396),s=n(7139),l=n(9242);const a=t=>((0,o.dD)("data-v-1508ffd2"),t=t(),(0,o.Cn)(),t),r={class:"bmlist"},i={class:"logo_wrapper"},_=["src"],d=["onClick"],m=["href"],u=a((()=>(0,o._)("img",{src:"https://s1.ax1x.com/2022/07/18/joIsDf.png"},null,-1))),c=[u];function b(t,e,n,a,u,b){const h=(0,o.up)("AddBookMark");return(0,o.wg)(),(0,o.iD)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.cur_cato_bms,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.id,class:"bm_item"},[(0,o._)("div",i,[(0,o._)("img",{src:t.pic_url,alt:""},null,8,_)]),(0,o._)("button",{class:"close_btn",onClick:e=>b.removeBm(t.id)},"close",8,d),(0,o._)("a",{href:t.href,target:"_blank"},(0,s.zw)(t.name),9,m)])))),128)),(0,o._)("div",{class:"add_bm",onClick:e[0]||(e[0]=t=>b.toggleShow(!0))},c),(0,o.Wm)(l.uT,{name:"CShow"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(h,{onToggleShow:b.toggleShow,bmcatoId:t.$route.query.id},null,8,["onToggleShow","bmcatoId"]),[[l.F8,u.showAddBmFlag]])])),_:1})])}const h=t=>((0,o.dD)("data-v-4bf8c351"),t=t(),(0,o.Cn)(),t),p={class:"add_bm_mask"},w={class:"add_bm"},g={class:"add_bm_main"},f=h((()=>(0,o._)("span",null,"网站名称：",-1))),k=h((()=>(0,o._)("br",null,null,-1))),v=h((()=>(0,o._)("br",null,null,-1))),B=h((()=>(0,o._)("span",null,"网址：",-1))),y=h((()=>(0,o._)("br",null,null,-1))),M=h((()=>(0,o._)("br",null,null,-1))),I=h((()=>(0,o._)("span",null,"logo链接:",-1))),$=h((()=>(0,o._)("br",null,null,-1))),S={class:"add_bm_foot"};function A(t,e,n,s,a,r){return(0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("div",w,[(0,o._)("div",g,[f,k,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.new_bm_name=t)},null,512),[[l.nr,a.new_bm_name]]),v,B,y,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>a.new_bm_url=t)},null,512),[[l.nr,a.new_bm_url]]),M,I,$,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>a.new_bm_pic_url=t)},null,512),[[l.nr,a.new_bm_pic_url]])]),(0,o._)("button",{class:"close_btn",onClick:e[3]||(e[3]=(...t)=>r.closeMe&&r.closeMe(...t))},"close"),(0,o._)("div",S,[(0,o._)("button",{onClick:e[4]||(e[4]=(...t)=>r.closeMe&&r.closeMe(...t)),class:"btn_warn"},"取消"),(0,o._)("button",{onClick:e[5]||(e[5]=(...t)=>r.addOneBm&&r.addOneBm(...t)),class:"btn_sure"},"确定")])])])}var C=n(691);function D(t){if("string"!==typeof t)return!1;const e=/^((http|https):\/\/)?(([A-Za-z0-9]+-[A-Za-z0-9]+|[A-Za-z0-9]+)\.)+([A-Za-z]+)[/?:]?.*$/;return e.test(t)}var x={name:"AddBookMark",emits:["toggleShow"],props:["bmcatoId"],data(){return{new_bm_name:"",new_bm_url:"",new_bm_pic_url:""}},computed:{isValid(){return""!==this.new_bm_name.trim()&&D(this.new_bm_url)&&D(this.new_bm_pic_url)}},methods:{closeMe(){this.$emit("toggleShow",!1)},addOneBm(){if(!this.isValid)return alert("请输入有效的数据");const t={catoid:this.bmcatoId,bmItem:{id:(0,C.x0)(),name:this.new_bm_name,href:this.new_bm_url,pic_url:this.new_bm_pic_url}};this.$store.commit("ADD_BM",t),localStorage.setItem("bm",JSON.stringify(this.$store.state.bm)),this.closeMe()}}},Z=n(89);const z=(0,Z.Z)(x,[["render",A],["__scopeId","data-v-4bf8c351"]]);var O=z,V={name:"BookMarkBoard",data(){return{cur_cato_bms:[],showAddBmFlag:!1}},methods:{updBMs(){void 0!==this.$route.query.id?this.$store.dispatch("gotBMsById",this.$route.query.id).then((({bookmarks:t})=>{this.cur_cato_bms=t})):this.$store.dispatch("gotBMs").then((({bookmarks:t})=>{this.cur_cato_bms=t}))},toggleShow(t){this.showAddBmFlag=t},removeBm(t){if(window.confirm("确认删除该书签?")){const e=this.$route.query.id;this.$store.commit("RM_BM",{catoId:e,bmId:t}),this.$router.push({path:"/"})}}},mounted(){this.updBMs(),localStorage.setItem("bm",JSON.stringify(this.$store.state.bm))},beforeUpdate(){this.updBMs()},components:{AddBookMark:O}};const q=(0,Z.Z)(V,[["render",b],["__scopeId","data-v-1508ffd2"]]);var F=q}}]);
//# sourceMappingURL=393.1b5ca758.js.map